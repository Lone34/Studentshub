{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6 text-gray-800">AI Challenge Quizzes (Strict Mode)</h1>

    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6" role="alert">
        <p class="font-bold">Warning:</p>
        <p>These quizzes are generated by AI to be <strong>extremely difficult</strong>. </p>
        <p>Once you start, you have <strong>60 seconds</strong> per question. Fullscreen is required.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for subject in subjects %}
        <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
            <h2 class="text-xl font-semibold mb-2">{{ subject.name }}</h2>
            <p class="text-gray-600 mb-4">{{ subject.grade.name }}</p>

            <form action="{{ url_for('quiz_bp.start_quiz', subject_id=subject.id) }}" method="POST">
                <button type="submit"
                    class="w-full bg-red-600 text-white font-bold py-2 px-4 rounded hover:bg-red-700 transition-colors">
                    Start Challenge
                </button>
            </form>
        </div>
        {% endfor %}
    </div>

    {% if not subjects %}
    <div class="text-center py-12">
        <p class="text-gray-500 text-lg">No subjects found for your grade. Please update your profile.</p>
        <a href="{{ url_for('profile') }}" class="text-blue-500 hover:underline">Update Profile</a>
    </div>
    {% endif %}
</div>
{% endblock %}